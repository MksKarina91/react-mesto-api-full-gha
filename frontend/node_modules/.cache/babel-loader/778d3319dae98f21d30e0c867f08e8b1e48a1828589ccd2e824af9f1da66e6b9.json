{"ast":null,"code":"var _jsxFileName = \"/Users/MksKarina91/Documents/GitHub/react-mesto-api-full-gha/frontend/src/components/Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport * as auth from \"../utils/Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Register = ({\n  setTooltipSuccess,\n  setInfoTooltipPopupOpen\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const handleChange = useCallback(e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValue(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n  const handleSubmit = useCallback(e => {\n    e.preventDefault();\n    const {\n      email,\n      password\n    } = formValue;\n    auth.register(email, password).then(() => {\n      setTooltipSuccess(true);\n      setInfoTooltipPopupOpen(true);\n      navigate(\"/sign-in\");\n    }).catch(err => {\n      if (err.status === 400) {\n        setError(\"Некорректно заполнено одно из полей\");\n      } else {\n        setError(\"Ошибка при регистрации\");\n      }\n      setTooltipSuccess(false);\n      setInfoTooltipPopupOpen(true);\n    });\n  }, [formValue, navigate, setTooltipSuccess, setInfoTooltipPopupOpen]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login__title\",\n        children: \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login__error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login__form\",\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: formValue.email,\n          className: \"login__input\",\n          type: \"email\",\n          name: \"email\",\n          placeholder: \"Email\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: handleChange,\n          value: formValue.password,\n          className: \"login__input\",\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"login__button\",\n          children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login__sign\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/sign-in\",\n        className: \"login__sign-link\",\n        children: \"\\u0423\\u0436\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B? \\u0412\\u043E\\u0439\\u0442\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Register, \"/RoLMpFghbbIoBCPiyWFru2AUQs=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nexport default Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useCallback","Link","useNavigate","auth","jsxDEV","_jsxDEV","Fragment","_Fragment","Register","setTooltipSuccess","setInfoTooltipPopupOpen","_s","navigate","formValue","setFormValue","email","password","error","setError","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","register","then","catch","err","status","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","type","placeholder","required","to","_c","$RefreshReg$"],"sources":["/Users/MksKarina91/Documents/GitHub/react-mesto-api-full-gha/frontend/src/components/Register.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport * as auth from \"../utils/Auth\";\n\nconst Register = ({ setTooltipSuccess, setInfoTooltipPopupOpen }) => {\n  const navigate = useNavigate();\n  const [formValue, setFormValue] = useState({ email: \"\", password: \"\" });\n  const [error, setError] = useState(\"\");\n\n  const handleChange = useCallback((e) => {\n    const { name, value } = e.target;\n    setFormValue((prev) => ({ ...prev, [name]: value }));\n  }, []);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      const { email, password } = formValue;\n      auth\n        .register(email, password)\n        .then(() => {\n          setTooltipSuccess(true);\n          setInfoTooltipPopupOpen(true);\n          navigate(\"/sign-in\");\n        })\n        .catch((err) => {\n          if (err.status === 400) {\n            setError(\"Некорректно заполнено одно из полей\");\n          } else {\n            setError(\"Ошибка при регистрации\");\n          }\n          setTooltipSuccess(false);\n          setInfoTooltipPopupOpen(true);\n        });\n    },\n    [formValue, navigate, setTooltipSuccess, setInfoTooltipPopupOpen]\n  );\n\n  return (\n    <>\n      <div className=\"login\">\n        <p className=\"login__title\">Регистрация</p>\n        {error && <p className=\"login__error\">{error}</p>}\n        <form className=\"login__form\" onSubmit={handleSubmit}>\n          <input\n            onChange={handleChange}\n            value={formValue.email}\n            className=\"login__input\"\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            required\n          />\n          <input\n            onChange={handleChange}\n            value={formValue.password}\n            className=\"login__input\"\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Пароль\"\n            required\n          />\n          <button className=\"login__button\">Зарегистрироваться</button>\n        </form>\n      </div>\n      <div className=\"login__sign\">\n        <Link to=\"/sign-in\" className=\"login__sign-link\">\n          Уже зарегистрированы? Войти\n        </Link>\n      </div>\n    </>\n  );\n};\n\nexport default Register;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}